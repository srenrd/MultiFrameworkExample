<%@ Page Title="Merchants" Language="C#" MasterPageFile="~/RestrictedArea/Restricted.master" AutoEventWireup="true" CodeFile="Merchants.aspx.cs" Inherits="RestrictedArea_Merchants" %>

<asp:Content ID="Content1" ContentPlaceHolderID="head" runat="Server">
	<style type="text/css">
		.item-provider-holder { background-color: #ffffcc; margin-bottom: 20px; padding: 20px; }
		.item-merchant-holder { background-color: #ffff66; padding: 20px; }
	</style>
</asp:Content>
<asp:Content ID="Content2" ContentPlaceHolderID="main" runat="Server">

	<%if (Action == "add") {%>
	<%} else {%>

	<%foreach (KeyValuePair<GolfBox.Framework.OnlinePayment.Enums.Provider, GolfBox.Framework.OnlinePayment.MerchantAgreement[]> kvp in Dict) {%>
	<div class="item-provider-holder">
		<h1><%=kvp.Key.ToString("F")%></h1>
		<a href="Merchants.aspx?action=add&Provider=<%=kvp.Key.ToString("D")%>">Add new</a>
		<hr />

		<%if (kvp.Value != null) { foreach(GolfBox.Framework.OnlinePayment.MerchantAgreement item in kvp.Value) {%>
		<div class="item-merchant-holder">
			<div class="item-merchant-id"><%=item.ID%></div>
			<div class="item-merchant-data"><%=(item.Settings == null ? 0 : item.Settings.Keys.Count())%></div>
		</div>
		<%}}%>
	</div>
	<%}%>

	<%}%>

</asp:Content>

